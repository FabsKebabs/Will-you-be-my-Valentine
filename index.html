<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff4d6d">
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Quicksand:wght@400;600&display=swap"
        rel="stylesheet">
    <style>
        /* --- General Styles --- */
        * {
            box-sizing: border-box;
        }

        :root {
            --primary: #ff4d6d;
            --secondary: #ff8fa3;
            --bg-color: #ffe5ec;
            --text-color: #590d22;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.6);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #feada6 100%);
            background-attachment: fixed;
            /* Ensures gradient stays while scrolling */
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            /* overflow: hidden; Removed to allow scrolling on demand */
            position: relative;
        }

        /* --- Floating Hearts Background --- */
        .bg-hearts {
            position: fixed;
            /* Changed to fixed to cover even when scrolling */
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .heart-shape {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.5);
            transform: rotate(45deg);
            animation: float 20s infinite linear;
            bottom: -10vh;
        }

        .heart-shape::before,
        .heart-shape::after {
            content: "";
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            position: absolute;
        }

        .heart-shape::before {
            top: -10px;
            left: 0;
        }

        .heart-shape::after {
            left: -10px;
            top: 0;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(45deg) scale(0.8);
                opacity: 0;
            }

            20% {
                opacity: 0.6;
            }

            100% {
                transform: translateY(-120vh) rotate(45deg) scale(1.2);
                opacity: 0;
            }
        }

        /* --- Main Container (Glassmorphism) --- */
        .container {
            position: relative;
            z-index: 10;
            background: var(--glass);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 3rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            text-align: center;
            max-width: 600px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease;
        }

        h1 {
            font-family: 'Sacramento', cursive;
            /* Keep main title cursive if desired, or change too? User said "curved writing font is kinda hard to read". I'll keep h1 as is for now as it's big, but change others. */
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Update other headers to be readable */
        h2,
        h3 {
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        p {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 2rem;
            line-height: 1.5;
        }

        /* --- Reasons Section --- */
        .reasons-section h2 {
            font-family: 'Quicksand', sans-serif;
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 30px;
        }

        .carousel-wrapper {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            display: block;
        }

        .reasons-grid {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            width: 100%;
            padding: 20px 10px;
            /* Reduced side padding */
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;

            /* Center alignment strategy */
            margin: 0 auto;
            max-width: 900px;
            /* constrain max width to prevent super wide stretch */

            box-sizing: border-box;
            /* Hide scrollbar */
            scrollbar-width: none;
        }

        .reasons-grid::-webkit-scrollbar {
            display: none;
        }

        .reason-card {
            background: #fff;
            border-radius: 15px;
            padding: 30px;
            min-width: 260px;
            max-width: 260px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            scroll-snap-align: center;
            flex: 0 0 auto;
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        /* Nav Buttons */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            border: none;
            color: var(--primary);
            font-size: 1.5rem;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.2s ease;
            z-index: 20;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        .nav-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-50%) scale(1.1);
        }

        .prev {
            left: 10px;
        }

        .next {
            right: 10px;
        }

        @media (min-width: 850px) {
            .prev {
                left: -60px;
            }

            .next {
                right: -60px;
            }
        }

        /* Mobile: Position buttons differently if needed, or hide if swipe is enough? 
           User asked for buttons, so keep them. */
        /* Mobile: Tweaks */
        @media (max-width: 600px) {
            .nav-btn {
                /* Make slightly smaller or transparent if needed */
                background: rgba(255, 255, 255, 0.7);
            }

            .reasons-grid {
                padding: 20px 40px;
                /* Keep padding so buttons don't cover text */
            }
        }

        /* Stack effect decoration */
        .reason-card::before {
            content: "";
            position: absolute;
            top: 5px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            border: 2px dashed var(--secondary);
            border-radius: 10px;
            pointer-events: none;
        }

        .reason-card:hover {
            transform: translateY(-5px);
        }

        .reason-card .icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .reason-card h3 {
            font-size: 1.4rem;
            color: var(--primary);
            margin: 10px 0;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        .reason-card p {
            font-size: 1rem;
            color: var(--text-color);
            line-height: 1.5;
            margin: 0;
            font-family: 'Quicksand', sans-serif;
        }

        /* --- Page 2 Layout & Scroll --- */
        .page2-wrapper {
            position: absolute;
            /* Using absolute to sit on top of everything */
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            padding-top: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Center horizontally */
            justify-content: flex-start;
            box-sizing: border-box;
            z-index: 20;
            /* Ensure on top */
            overflow-x: hidden;
        }

        /* Override body styles when page 2 is active */
        body.scroll-active {
            height: auto !important;
            overflow-y: auto !important;
            display: block !important;
        }

        /* --- Buttons --- */
        .btn-group {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 2rem;
            position: relative;
            min-height: 60px;
            /* Space for buttons to move */
        }

        button {
            padding: 12px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            /* Default position */
        }

        #yesBtn {
            background-color: var(--primary);
            color: white;
            z-index: 2;
        }

        #yesBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 77, 109, 0.4);
        }

        #noBtn {
            background-color: var(--white);
            color: var(--text-color);
            z-index: 100;
            /* Ensure it's on top when moving */
        }

        /* --- Page Transitions --- */
        .hidden {
            display: none !important;
            opacity: 0;
            pointer-events: none;
        }

        .fade-in {
            animation: fadeIn 1s forwards;
        }

        .fade-out {
            animation: fadeOut 0.5s forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
                transform: scale(1);
            }

            to {
                opacity: 0;
                transform: scale(1.1);
            }
        }

        /* --- Toast Messages --- */
        .toast {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 15px;
            border-radius: 12px;
            font-size: 0.9rem;
            color: var(--primary);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            pointer-events: none;
            animation: toastPop 1.5s forwards;
            white-space: nowrap;
            z-index: 200;
        }

        @keyframes toastPop {
            0% {
                transform: translateY(10px) scale(0.8);
                opacity: 0;
            }

            20% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            80% {
                opacity: 1;
            }

            100% {
                transform: translateY(-20px);
                opacity: 0;
            }
        }

        /* --- Page 2 Specific --- */
        .heart-icon {
            font-size: 5rem;
            color: var(--primary);
            animation: pulse 1s infinite;
            display: block;
            margin: 0 auto 1rem auto;
        }

        .baby-pic {
            width: 200px;
            height: 200px;
            object-fit: cover;
            border-radius: 50%;
            border: 5px solid white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            margin: 20px auto;
            display: block;
            animation: float-img 4s ease-in-out infinite;
        }

        @keyframes float-img {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }

            100% {
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

        }

        .roblox-pic {
            width: 300px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border: 4px solid var(--white);
            transform: rotate(-2deg);
            transition: transform 0.3s ease;
        }

        .roblox-pic:hover {
            transform: rotate(0deg) scale(1.02);
        }

        .goals-text {
            flex: 1;
            min-width: 250px;
            background: rgba(255, 255, 255, 0.5);
            padding: 20px;
            border-radius: 15px;
        }

        .highlight-text {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        /* Mobile adjustment */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.5rem;
            }

            .container {
                padding: 2rem 1.5rem;
                width: 85%;
            }

            button {
                padding: 10px 20px;
                font-size: 1rem;
            }

            .baby-pic {
                width: 150px;
                height: 150px;
            }

            .goals-content {
                flex-direction: column;
                text-align: center;
            }

            .roblox-pic {
                width: 100%;
                max-width: 300px;
                transform: rotate(0deg);
            }
        }

        /* --- Timer Styles --- */
        .timer-container {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            border: 2px dashed var(--primary);
        }

        .timer-container h3 {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 15px;
        }

        #timer {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .time-box {
            background: var(--white);
            padding: 10px;
            border-radius: 10px;
            min-width: 70px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            border-bottom: 4px solid var(--secondary);
        }

        .time-box span {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            font-family: 'Quicksand', sans-serif;
        }

        .time-box small {
            font-size: 0.8rem;
            color: var(--text-color);
            text-transform: uppercase;
            margin-top: 5px;
        }

        /* --- Bouquet Section --- */
        .bouquet-section {
            margin-top: 50px;
            text-align: center;
        }

        #gift-box {
            font-size: 5rem;
            cursor: pointer;
            transition: transform 0.2s ease;
            display: inline-block;
            margin: 20px;
            user-select: none;
        }

        #gift-box:active {
            transform: scale(0.9);
        }

        .shake {
            animation: shake 0.5s;
            animation-iteration-count: infinite;
        }

        @keyframes shake {
            0% {
                transform: translate(1px, 1px) rotate(0deg);
            }

            10% {
                transform: translate(-1px, -2px) rotate(-1deg);
            }

            20% {
                transform: translate(-3px, 0px) rotate(1deg);
            }

            30% {
                transform: translate(3px, 2px) rotate(0deg);
            }

            40% {
                transform: translate(1px, -1px) rotate(1deg);
            }

            50% {
                transform: translate(-1px, 2px) rotate(-1deg);
            }

            60% {
                transform: translate(-3px, 1px) rotate(0deg);
            }

            70% {
                transform: translate(3px, 1px) rotate(-1deg);
            }

            80% {
                transform: translate(-1px, -1px) rotate(1deg);
            }

            90% {
                transform: translate(1px, 2px) rotate(0deg);
            }

            100% {
                transform: translate(1px, -2px) rotate(-1deg);
            }
        }

        #bouquet {
            font-size: 6rem;
            animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .flower-msg {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-top: 20px;
            font-family: 'Quicksand', sans-serif;
        }

        @keyframes popIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }

            80% {
                transform: scale(1.1);
                opacity: 1;
            }

            100% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body>

    <!-- Background Animation -->
    <div class="bg-hearts" id="bgHearts"></div>

    <!-- Page 1: Proposal -->
    <div class="container" id="page1">
        <h1>Will you be my Valentine‚Äôs?</h1>
        <p>I have a question for you... üåπ</p>

        <div class="btn-group">
            <button id="yesBtn">YES! üòç</button>
            <button id="noBtn">No üò¢</button>
        </div>
    </div>

    <!-- Page 2: Wrapper for scrollable content -->
    <div class="page2-wrapper hidden" id="page2">

        <!-- Success Card -->
        <div class="container" style="margin-top: 50px; margin-bottom: 50px;">
            <div class="heart-icon">‚ù§Ô∏è</div>
            <h1 style="font-size: 3rem;">Yayyy!! Andreea ‚ù§Ô∏è</h1>

            <img src="andreea.png" alt="My cute baby Andreea" class="baby-pic"
                onerror="this.src='https://placehold.co/200x200/ffb3c1/590d22?text=Baby+Andreea'">

            <p style="font-size: 1.4rem; font-weight: bold; color: var(--primary); margin-bottom: 10px;">
                My cute baby ü•∞
            </p>

            <p>You‚Äôre officially my Valentine! <br> I knew you would say yes!</p>

            <!-- Timer Section -->
            <div class="timer-container">
                <h3>Time since we fell in love... ‚è≥</h3>
                <div id="timer">
                    <div class="time-box">
                        <span id="days">0</span>
                        <small>Days</small>
                    </div>
                    <div class="time-box">
                        <span id="hours">0</span>
                        <small>Hours</small>
                    </div>
                    <div class="time-box">
                        <span id="minutes">0</span>
                        <small>Mins</small>
                    </div>
                    <div class="time-box">
                        <span id="seconds">0</span>
                        <small>Secs</small>
                    </div>
                </div>
            </div>

            <div class="scroll-indicator">
                <p style="font-size: 0.9rem; margin-bottom: 5px;">Scroll down for more üëá</p>
                <div class="arrow"></div>
            </div>
        </div>

        <!-- Life Goals Section -->
        <div class="container life-goals">
            <h2>Our Life Goals üè°</h2>
            <div class="goals-content">
                <img src="roblox.jpg" alt="Us in Roblox" class="roblox-pic"
                    onerror="this.src='https://placehold.co/400x300/ffb3c1/590d22?text=Us+in+Roblox'">
                <div class="goals-text">
                    <p class="highlight-text">I cant wait to meet you... ü´Ç </p>
                    <p>
                        Even though we met online, you are the realist person I have ever met.
                        I want you to know you make me really happy, every moment we spend together
                        makes me feel like the happiest boy in the world. Also the luckiest.
                        I feel like I've known you my whole life. You are the most beautiful,
                        kind, and caring person I have ever met.
                        I can't wait to meet you and start our life together. ‚ù§Ô∏è
                    </p>
                    <p>
                        I love you so much my baby Andreea, my sweet potato, my sugar cookie, my everything.
                        You are my future, my girlfriend, my wife and my best friend.
                        I promise to work hard to make this dream come true for us. I will never give up on us.
                        I will always love you no matter what. ‚ù§Ô∏è
                    </p>
                </div>
            </div>
        </div>

        <!-- Reasons I Love You Section -->
        <div class="container reasons-section" style="margin-top: 50px;">
            <h2>Why I Love You ‚ú®</h2>

            <div class="carousel-wrapper">
                <button class="nav-btn prev" id="prevBtn">‚ùÆ</button>

                <div class="reasons-grid" id="reasonsGrid">
                    <div class="reason-card">
                        <div class="icon">üíñ</div>
                        <h3>Youre Kind</h3>
                        <p>You are the most kindest person I've ever met. Your heart is so precious and innocent to me.
                            i will treasure you for as long as i live.</p>
                    </div>
                    <div class="reason-card">
                        <div class="icon">ü¶ã</div>
                        <h3>Your Beauty</h3>
                        <p>Inside and out, you are perfect for me. You are the most beautiful person I have ever met.
                            and i will kill any boy who tries to take you away from me.</p>
                    </div>
                    <div class="reason-card">
                        <div class="icon">ü•∞</div>
                        <h3>Your Support</h3>
                        <p>You make me the happiest boy alive just by being you. You support me even when times are
                            tough. you are always there for me when i need you the most. Thank you.</p>
                    </div>
                    <div class="reason-card">
                        <div class="icon">üåé</div>
                        <h3>How You Make Me Feel</h3>
                        <p>You make me feel so calm, and safe in ways no one else ever has and ever will in this world.
                            Im really grateful to have met you my love.</p>
                    </div>
                    <div class="reason-card">
                        <div class="icon">‚ôæÔ∏è</div>
                        <h3>My Promise</h3>
                        <p>If we lost our memories and met again, I would still choose you without a single moment of
                            hesitation.</p>
                    </div>
                </div>

                <button class="nav-btn next" id="nextBtn">‚ùØ</button>
            </div>
        </div>

        <!-- Virtual Bouquet Section -->
        <div class="container bouquet-section">
            <h3>A Gift For You üéÅ</h3>
            <div id="gift-box" onclick="openGift()">
                üéÅ
                <p id="gift-msg" style="font-size: 0.9rem; margin-top: 10px;">Click me!</p>
            </div>
            <div id="bouquet" class="hidden">
                üíê
                <div class="flower-msg">For you, my love. üíñ</div>
            </div>
        </div>

        <div style="height: 50px;"></div> <!-- Spacer -->
    </div>

    <script>
        // --- Confetti Logic ---
        const startConfetti = () => {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            // Removed unused defaults

            const createParticle = () => {
                const particle = document.createElement('div');
                particle.style.position = 'fixed';
                particle.style.width = '10px';
                particle.style.height = '10px';
                particle.style.backgroundColor = ['#ff4d6d', '#ffb3c1', '#ffffff', '#ffccd5'][Math.floor(Math.random() * 4)];
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = '-10px';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                particle.style.zIndex = '1000';
                particle.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;

                document.body.appendChild(particle);

                setTimeout(() => {
                    particle.remove();
                }, 5000);
            }

            // CSS for confetti already injected or handled
            // But let's ensure the keyframe exists if not
            const styleSheet = document.createElement("style");
            styleSheet.innerText = `
                @keyframes fall {
                    to { transform: translateY(100vh) rotate(720deg); opacity: 0; }
                }
            `;
            if (!document.getElementById('confetti-style')) {
                styleSheet.id = 'confetti-style';
                document.head.appendChild(styleSheet);
            }

            for (let i = 0; i < 50; i++) {
                createParticle();
            }

            const interval = setInterval(createParticle, 50);
            setTimeout(() => clearInterval(interval), duration);
        }

        // --- Interact Logic ---
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const btnGroup = document.querySelector('.btn-group');

        let noBtnScale = 1;
        let yesBtnScale = 1;
        let noClickCount = 0; // Track no clicks

        const toasts = [
            "Are you sure? ü•∫",
            "Don't break my heart üíî",
            "Try again üòå",
            "Pretty please? üçí",
            "You can't say no! üò§",
            "Think about it... ü§î",
            "Last chance! ‚ö†Ô∏è"
        ];

        // Function to move the NO button
        function moveNoBtn() {
            noClickCount++;

            // Get container dimensions
            const container = document.getElementById('page1');
            const rect = container.getBoundingClientRect();

            // Validate button size to avoid issues if not rendered yet
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;

            // Calculate max positions within the container
            // using container width/height minus button size
            const maxX = rect.width - btnWidth;
            const maxY = rect.height - btnHeight;

            const randomX = Math.max(0, Math.floor(Math.random() * maxX));
            const randomY = Math.max(0, Math.floor(Math.random() * maxY));

            noBtn.style.position = 'absolute'; // Relative to container
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';

            // Shrink NO button slightly but keep visible (min 0.6)
            noBtnScale = Math.max(0.6, noBtnScale - 0.05);
            noBtn.style.transform = `scale(${noBtnScale})`;

            // Grow YES button on every attempt (cap at 3x to avoid overflow)
            yesBtnScale = Math.min(3, yesBtnScale + 0.2);
            yesBtn.style.transform = `scale(${yesBtnScale})`;

            showToast(rect.left + randomX, rect.top + randomY);
        }

        function showToast(x, y) {
            const msg = toasts[Math.floor(Math.random() * toasts.length)];
            const toast = document.createElement('div');
            toast.classList.add('toast');
            toast.textContent = msg;
            toast.style.left = (x + 20) + 'px';
            toast.style.top = (y - 40) + 'px';
            document.body.appendChild(toast);

            setTimeout(() => toast.remove(), 1500);
        }

        // --- Event Listeners ---
        // Removed mouseover, added click/touchstart

        noBtn.addEventListener('click', (e) => {
            e.preventDefault();
            moveNoBtn();
        });

        // Ensure touch works too for mobile
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            moveNoBtn();
        });

        yesBtn.addEventListener('click', () => {
            page1.style.opacity = '0';
            page1.style.transition = 'opacity 0.5s ease';

            setTimeout(() => {
                page1.classList.add('hidden');
                page2.classList.remove('hidden');

                // Enable scrolling by adding class to body
                document.body.classList.add('scroll-active');

                startConfetti();
            }, 500);
        });

        // --- Background Hearts generator ---
        function createHearts() {
            const container = document.getElementById('bgHearts');
            // Fixed position hearts won't scroll well if not careful, 
            // but bg-hearts is position:absolute top:0 left:0 width:100% height:100%.
            // If body grows, we might need fixed.
            container.style.position = 'fixed';

            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart-shape');
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 10 + 10) + 's';
                heart.style.animationDelay = (Math.random() * 5) + 's';
                heart.style.opacity = Math.random() * 0.5 + 0.1;
                container.appendChild(heart);
            }
        }

        createHearts();

        // --- Carousel Logic ---
        const reasonsGrid = document.getElementById('reasonsGrid');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        nextBtn.addEventListener('click', () => {
            reasonsGrid.scrollBy({
                left: 280, // card width + gap
                behavior: 'smooth'
            });
        });

        // --- Gift Logic ---
        let clickCount = 0;

        function openGift() {
            const giftBox = document.getElementById('gift-box');
            const bouquet = document.getElementById('bouquet');
            const giftMsg = document.getElementById('gift-msg');

            clickCount++;

            if (clickCount < 5) {
                // Shake it
                giftBox.classList.add('shake');
                setTimeout(() => giftBox.classList.remove('shake'), 500);

                const messages = ["Keep going!", "Almost there!", "More clicks!", "Just one more!"];
                giftMsg.innerText = messages[clickCount - 1] || "Click me!";
            } else {
                // Open it
                giftBox.style.display = 'none';
                bouquet.classList.remove('hidden');
                startConfetti(); // Celebrate!
            }
        }

        prevBtn.addEventListener('click', () => {
            reasonsGrid.scrollBy({
                left: -280,
                behavior: 'smooth'
            });
        });

        // --- Timer Logic ---
        const startDate = new Date('2024-08-19T00:00:00');

        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / 1000 / 60) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            // Check if elements exist before updating into avoid errors if page 2 hidden
            const daysEl = document.getElementById('days');
            if (daysEl) {
                daysEl.innerText = days;
                document.getElementById('hours').innerText = hours;
                document.getElementById('minutes').innerText = minutes;
                document.getElementById('seconds').innerText = seconds;
            }
        }

        setInterval(updateTimer, 1000);
        updateTimer(); // Initial call

    </script>
</body>

</html>